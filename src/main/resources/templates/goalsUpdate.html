<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<head>
    <link rel="stylesheet" href="/css/goalsupdate.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Poppins:wght@400;700&display=swap"
            rel="stylesheet"
    >
</head>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<body>
<div class="container">
    <h4>목표</h4>
    <form action="/goals" method="post">
        <div class="form-group">
            <input type="text" id = "userCategory" name = "category" value = "">
            <input type="hidden" id = "userId" name = "id" value="">
            <input type = "hidden" id = "deleteCategory" name = "delete" value = "">
            <button type = "submit" class="plusGoaloutline plusGoalinline" id = "submit">확인</button>
            <input type="button" class="plusGoaloutline plusGoalinline" value = "삭제" onclick = "deleteGoal();">
        </div>
    </form>
</div>
<script th:inline = "javascript">
    var update_value = [[${goal.category}]];
    document.getElementById("userCategory").value = update_value;
    var id = [[${goal.id}]];
    document.getElementById("userId").value = id;

    function deleteGoal() {
        alert("정말 삭제하시겠습니까?\n포함되어 있던 할 일들은 모두 삭제됩니다.");
        document.getElementById("deleteCategory").value = "delete";
        document.getElementById('submit').click();
    }
</script>
</body>
</html>